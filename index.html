<!DOCTYPE html>
<html lang="en">
<title>ERIC KERNEY 30 DAY MAP CHALLENGE 2021</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<body>

<!-- Header -->
<header class="w3-display-container w3-content w3-center" style="max-width:100%">
  <img class="w3-image" src="images/sf3Ddown.png" alt="Me" width="100%" height="600">
  <div class="w3-display-topmiddle w3-padding-large w3-border w3-wide w3-text-light-grey w3-center">
  
    <h1 class="w3-hide-medium w3-hide-small w3-xxxlarge">ERIC M KERNEY</h1>
    <h3 class="w3-hide-medium w3-hide-small">30 day map challenge 2021</h3>
    <h4 class="w3-hide-medium w3-hide-small">#locationVisualization</h4>
    <h4 class="w3-hide-large" style="white-space:nowrap">ERIC M KERNEY</h4>
    <h5 class="w3-hide-large" style="white-space:nowrap">30 day map challenge 2021</h5>
    <h5 class="w3-hide-large" style="white-space:nowrap">#locationVisualization</h5>
  </div>
  
  <!-- Navbar (placed at the bottom of the header image) -->
  <div class="w3-bar w3-light-grey w3-round w3-display-bottommiddle w3-hide-small" style="bottom:-16px">
    <a href="#" class="w3-bar-item w3-button">Top</a>
    <a href="#maps" class="w3-bar-item w3-button">First</a>
  </div>
</header>

<!-- Navbar on small screens -->
<div class="w3-center w3-light-grey w3-padding-16 w3-hide-large w3-hide-medium">
<div class="w3-bar w3-light-grey">
  <a href="#" class="w3-bar-item w3-button">Top</a>
  <a href="#maps" class="w3-bar-item w3-button">First</a>

</div>
</div>
<!-- Page content -->
<div class="w3-content w3-padding-32 w3-margin-top" id="maps">

  <!-- Maps (Maps) -->
  <div class="w3-light-grey w3-padding-large " id="introText">
    <h2 class="w3-center">#30DayMapChallenge</h2>
    <h3 class="w3-center">November 2021 Map Challenge</h3>
    
    <h5>October 26</h5>
    <p>The smell of autumn is in the air in Michigan, and that can only mean the annual 30 Day Map Challenge is near!</p>
    <h4>What is the 30 Day Map Challenge?</h4>
    <p>Each day presents a map challenge focused on a different spatial feature or topic.<br>  
       Cartographers are invited to create a map each day with the tools of their choice centered around that day’s theme. 
       Daily themes involve working with a specific type of vector data, colors, or feature type.  The categories for this year are
       shown below, so get going with some crazy cartography!</p>
    <a href="https://www.gislounge.com/november-map-challenge/" target="_blank" class="w3-hover-text-green">GIS Lounge 30 Day Map Challenge</a><br>
    <img src="images/30dmpc_2021.png" alt="30DayMapGraphic" class="w3-image w3-margin-top" width="1000" height="500">
    <br><br>
    <p>About Me: I'm a Geospatial Developer and Scientist, I specialize in Hydrology and Natural Resource analysis, and am looking to deploy Data Science, 
      Remote Sensing, and Deep Learning to solve complex ecological and social problems.  Also I enjoy forest hikes, the Great Lakes, permaculture and playing gypsy jazz guitar.</p>
   <p class="w3-center">
   <a href="https://github.com/Location-Artistry" target="_blank" class="w3-hover-text-green">gitHub</a> - 
   <a href="https://www.linkedin.com/in/eric-kerney/" target="_blank" class="w3-hover-text-green">linkedIn</a>
  </p>
  </div>   
  
  <br>
  <div class="w3-light-grey w3-padding-large w3-padding-large " id="introText">
    <h2 class="w3-center">Proposed Approach for 2021</h2>
    <h3 class="w3-center">#30DayMapChallenge - October 27</h3>
    <hr>
    <p>30 Maps in 30 days requires some type of a plan to execute in such a short window....<br>
       What sort of a theme would be novel?  What would be interesting?  What could provide a path to deliver a map each day?
       Why note a new city each day?  Using the largest cities in the US by population, and discovering open data portal for each city.<br><br> 
       This could also involve Jupyter Notebooks, and Python, and Scraping, sounds like an exciting data science excursion!
       I began by scraping wikipedia for the list of largest cities with the Beautiful Soup Library, parsed into a dataframe,
       cleaned the text columns, and reduced the list from 326 to the top 30.<br><br>
       Next I automated the search query for each city and the text: "Open Data," saving the top three results into a new dataframe.
       Export to CSV and we've got something to start with!<br><br>
       Watch this scraping/searching automation occur in front of your eyes below, along with some cool jazz.<br>
       Gist also shown below video.       
    </p>
    
    <iframe width="100%" height="520"  src="https://www.youtube.com/embed/MRjWbnaQieY?autoplay=1&controls=0&loop=1&list=PLc8klS_xTIqHVmBxBj3i6QC7vDqiESzAo&modestbranding=1&rel=0" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
    
    
    <script src="https://gist.github.com/Location-Artistry/7a0132f937b5ef050048694358b2dd37.js"></script>    
  </div>
  
  <br>
  <div class="w3-light-grey w3-padding-large w3-padding-large " id="introText">
    <h2 class="w3-center">Objectives for 30 Day Map Challenge</h2>
    <h3 class="w3-center">#30DayMapChallenge - October 28</h3>
    <hr>
    <p>Well it's not even November and we are already getting into the carto challenge.<br>
       Beyond the sheer exuberence and joy that comes from creating rapid fire maps, what else could we take away from the Challenge?<br>
       How can all of this work benefit our personal Geospatial Development?
       <h4>Personal Objectives</h4>
       <ul>
         <li>Organize a well planned approach</li>
         <li>Have a general sketch for the daily map</li>
         <li>Plan out data sources and acquisition</li>
         <li>Enhance my web development skills with this page!</li>
         <li>Well organized Colab Geo Processing Notebook</li>
         <li>Discover and document new data sources/portals</li>
         <li>Increase competency across the board with QGIS
            <ul>
              <li>Interesting and beautiful layer symbolizations</li>
              <li>Aesthetically pleasing map outputs</li>
              <li>2.5D map styling</li>
              <li>Geo processing and data preparation</li>
              <li>PyQGIS scripting and automated map production</li>
            </ul>
          </li>
         <li>What skills are you hoping to learn???</li>
       </ul>
    <p>You can see the embedded Notebook evolve in the section above.<br>
       Please check back daily for new maps and exciting Geo updates!</p>
       <img src="images/finalMapViz.png" alt="detroitDowntown" class="w3-image w3-margin-top" width="1000" height="500">
  </div>
<br>
  <div class="w3-light-grey w3-padding-large w3-padding-large " id="introText">
    <h2 class="w3-center">It's a Great Day to Explore Data!</h2>
    <h3 class="w3-center">#30DayMapChallenge - October 29</h3>
    <hr>
    <p>As mentioned earlier on, we will be exploring the 30 largest US cities for the 30 Day Map Challenge.  I've started a Google 
       Colab Jupyter type notebook, which lives entirely in the cloud, and starting scraping the list of cites.  Additionally, Using
       a python search library, was able to find the top 3 results for each city + 'open data,' and generate a CSV file from this dataframe.<br>
       The first city on the list is unsurprisingly, New York, with 'Points' for the category.  Another clever little trick I've found is to
       open these links within a notebook cell with -> IFrame(src=dfSlice['URL'][0], width='100%', height='800px')<br>
       You can see below that we are starting with NYC OpenData, let the free data flow and see where it takes us! 
    <h4>Stay Calm and Map On</h4>
    <img src="images/TX3oAtU - Imgur.png" alt="PtGMTairMonitors" class="w3-image w3-margin-top" width="1000" height="500">
  </div>
<br>
  <div class="w3-light-grey w3-padding-large w3-padding-large " id="introText">
    <h2 class="w3-center">Day 1 - Category: Points - City: New York</h2>
    <h3 class="w3-center">#30DayMapChallenge - November 1</h3>
    <h3 class="w3-center">SO IT BEGINS</h3>
    <hr>
    <p>I have a map, it has points, the points are squirrels, it’s not pretty<br>
      I’m working in Colab, it’s a start! #30DayMapChallenge #geoPandas #squirrels <br>
    <h4>Stay Calm and Map On</h4>
    <img src="images/NYCsquirrel.png" alt="PtGMTairMonitors" class="w3-image w3-margin-top" width="1000" height="500">
    <img src="images/NYCsquirrel2.png" alt="PtGMTairMonitors" class="w3-image w3-margin-top" width="1000" height="500">
  </div>
<br>
  <div class="w3-light-grey w3-padding-large w3-padding-large " id="introText">
    <h2 class="w3-center">Day 4 - Category: Hexagons</h2>
    <h3 class="w3-center">#30DayMapChallenge - November 4th</h3>
    <hr>
    <p>
      <h5>QGIS PROBLEM & NO HEXAGONS</h5>
After my QGIS failed earlier this week, I’ve had to change directions somewhat for my 30DayMapChallenge path.  Always up for extra difficulty, my portable dev computer is a <b>Toshiba Chromebook</b> running an ubuntu linux derivative.  I have been pleasantly surprised at what this tiny, low-powered device is capable of, e.g. linux, VScode, node, django, QGIS…
<h5>Chromebook Programming</h5>
The best ubuntu 18.04 version of QGIS that I have had success with was 3.4.  After using the <b>Socrata plugin for QGIS</b>, which would be a huge benefit for accessing my potential data sources for the Challenge, I had some difficulties with setting the CRS.  The layers brought into the map were not being shown properly.  Seeing that others had mentioned this same issue, I thought it was time to upgrade and possibly get rid of some problems with this somewhat outdated version of Q.  Well I’ve succeeded in deleting my existing install and have not had luck signing the gpg keys for a newer version.  This is also complicated by the lack of space on the Chromebook (16 GB!).
<h4>New Geo Problems!</h4>
Today at my day job I encountered a new geospatial problem.  I was asked if I had some drone photos of a certain location <b>(yes I am also a Part 107 UAV pilot)</b>.   While I have my flights organized by year and a short description, the process of looking through thousands of photos is EXTREMELY tedious as we all know.  This is compounded by the lag of accessing the photos on a network over a VPN connection. 
<h5>Python GPSPhoto Library</h5>
My hope was to use python to obtain the gps coordinates from each drone photo, append each record into a dataframe, and off we go.  There is a python library, <b>GPSPhoto</b>, that allows you to do just this, as described here:  <a href="https://sylvaindurand.org/gps-data-from-photos-with-python/" target="_blank" class="w3-hover-text-green">https://sylvaindurand.org/gps-data-from-photos-with-python/</a><br><br>
To get this to work in a Jupyter Notebook I also needed to <b>pip install piexif and pillow libraries</b>.  This allowed me to create a recursive function using the os library that would search the current directory and all sub-directories for any file that <b>.endswith('JPG')</b>.  This worked without too much trouble and I was then able to create a blank dataframe with appropriate columns and append the name of each photos and coordinates as a new record.  We’ve got ArcGIS Pro and arcpy installed, so I was able to import <b>ESRI python libraries</b>, and load the dataframe into a spatially enabled dataframe (the proprietary format you love to hate). 
<h5>We have drone photo locations on the map!</h5>
sdf.plot() and we are off!  We can view all of the drone photo locations as points on an interactive map, courtesy of the ArcGIS Python API map widget.  They were nice enough to include a built-in popup that shows the attributes for each photo, and I was able to locate pics near the area of interest.  It took some time for the function to chug through all of the photos and create the dataframe, so I took the extra step of exporting them via: df.to_csv('X:\\UAV\\2020UAVgps.csv', index=False) - which was easy and efficient.  They can then be added to Arc Pro as a table, and XY generated from the attributes, and we should also be able to re-create a GeoDataframe from the CSV.  The sdf.plot() resulted in error messages for several of the CSV’s, though I didn’t have time to try to interpret these annoyingly long python errors.<br><br>
One other thing, if you try to use the <b>ESRI Python map widget in a Google Colab Notebook</b>, it <b>wouldn’t work</b> the last time I checked.  This is related to various incompatibilities between Colab and certain .ipywidgets.   If you’ve gotten it to work I would be happy to hear from you!<br><br>
  </p>
  <h4>Stay Calm and Map On</h4>
  <img src="images/gpsIMGpythonMORE.png" alt="PtGMTairMonitors" class="w3-image w3-margin-top" width="1000" height="500">
  </div>
  
  <!-- Contact -->
  <div class="w3-light-grey w3-padding-large w3-padding-32 w3-margin-top" id="contact">
    
    <p>Powered by <a href="https://www.w3schools.com/w3css/default.asp" target="_blank" class="w3-hover-text-green">w3.css</a></p>

  </div>

<!-- End page content -->
</div>

</body>
</html>
